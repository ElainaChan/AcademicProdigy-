<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>markdown-preview-plus/lib/markdown-preview-view/pdf-export-util | Acdemic-Prodigy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const webview_handler_1 = require(&quot;.&#x2F;webview-handler&quot;); const util_1 = require(&quot;..&#x2F;util&quot;); const renderer_1 = require(&quot;..&#x2F;r">
<meta property="og:type" content="article">
<meta property="og:title" content="markdown-preview-plus&#x2F;lib&#x2F;markdown-preview-view&#x2F;pdf-export-util">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;10&#x2F;31&#x2F;markdown-preview-plus&#x2F;lib&#x2F;markdown-preview-view&#x2F;pdf-export-util&#x2F;index.html">
<meta property="og:site_name" content="Acdemic-Prodigy">
<meta property="og:description" content="&quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); const webview_handler_1 = require(&quot;.&#x2F;webview-handler&quot;); const util_1 = require(&quot;..&#x2F;util&quot;); const renderer_1 = require(&quot;..&#x2F;r">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-10-31T09:19:10.844Z">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Acdemic-Prodigy" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Acdemic-Prodigy</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-markdown-preview-plus/lib/markdown-preview-view/pdf-export-util" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/31/markdown-preview-plus/lib/markdown-preview-view/pdf-export-util/" class="article-date">
  <time datetime="2019-10-31T09:19:10.844Z" itemprop="datePublished">2019-10-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      markdown-preview-plus/lib/markdown-preview-view/pdf-export-util
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        "use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const webview_handler_1 = require("./webview-handler");
const util_1 = require("../util");
const renderer_1 = require("../renderer");
const fs_1 = require("fs");
const macros_util_1 = require("../macros-util");
async function saveAsPDF(text, filePath, grammar, renderLaTeX, saveFilePath) {
    const view = new webview_handler_1.WebviewHandler(async () => {
        const opts = util_1.atomConfig().saveConfig.saveToPDFOptions;
        const pageSize = opts.pageSize === 'Custom'
            ? parsePageSize(opts.customPageSize)
            : opts.pageSize;
        if (pageSize === undefined) {
            throw new Error(`Failed to parse custom page size: ${opts.customPageSize}`);
        }
        const selection = await view.getSelection();
        const printSelectionOnly = selection ? opts.printSelectionOnly : false;
        const newOpts = Object.assign(Object.assign({}, opts), { pageSize,
            printSelectionOnly });
        const [width, height] = getPageWidth(newOpts.pageSize);
        const mathConfig = util_1.atomConfig().mathConfig;
        const pdfRenderer = util_1.atomConfig().saveConfig.saveToPDFOptions.latexRenderer;
        const renderer = pdfRenderer === 'Same as live preview'
            ? mathConfig.latexRenderer
            : pdfRenderer;
        view.init({
            userMacros: macros_util_1.loadUserMacros(),
            mathJaxConfig: Object.assign(Object.assign({}, mathConfig), { latexRenderer: renderer }),
            context: 'pdf-export',
            pdfExportOptions: { width: newOpts.landscape ? height : width },
        });
        view.setBasePath(filePath);
        const domDocument = await renderer_1.render({
            text,
            filePath,
            grammar,
            renderLaTeX,
            mode: 'normal',
        });
        await view.update(domDocument.documentElement.outerHTML, renderLaTeX);
        try {
            const data = await view.printToPDF(newOpts);
            await new Promise((resolve, reject) => {
                fs_1.writeFile(saveFilePath, data, (error) => {
                    if (error) {
                        reject(error);
                        return;
                    }
                    resolve();
                });
            });
        }
        catch (e) {
            const error = e;
            atom.notifications.addError('Failed saving to PDF', {
                description: error.toString(),
                dismissable: true,
                stack: error.stack,
            });
        }
        view.destroy();
    });
    view.element.style.pointerEvents = 'none';
    view.element.style.position = 'absolute';
    view.element.style.width = '0px';
    view.element.style.height = '0px';
    const ws = atom.views.getView(atom.workspace);
    ws.appendChild(view.element);
}
exports.saveAsPDF = saveAsPDF;
function parsePageSize(size) {
    if (!size)
        return undefined;
    const rx = /^([\d.,]+)(cm|mm|in)?x([\d.,]+)(cm|mm|in)?$/i;
    const res = size.replace(/\s*/g, '').match(rx);
    if (res) {
        const width = parseFloat(res[1]);
        const wunit = res[2];
        const height = parseFloat(res[3]);
        const hunit = res[4];
        return {
            width: convert(width, wunit),
            height: convert(height, hunit),
        };
    }
    else {
        return undefined;
    }
}
function convert(val, unit) {
    return val * unitInMicrons(unit);
}
function unitInMicrons(unit = 'mm') {
    switch (unit) {
        case 'mm':
            return 1000;
        case 'cm':
            return 10000;
        case 'in':
            return 25400;
    }
}
function getPageWidth(pageSize) {
    switch (pageSize) {
        case 'A3':
            return [297, 420];
        case 'A4':
            return [210, 297];
        case 'A5':
            return [148, 210];
        case 'Legal':
            return [216, 356];
        case 'Letter':
            return [216, 279];
        case 'Tabloid':
            return [279, 432];
        default:
            return [pageSize.width / 1000, pageSize.height / 1000];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGRmLWV4cG9ydC11dGlsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21hcmtkb3duLXByZXZpZXctdmlldy9wZGYtZXhwb3J0LXV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1REFBa0Q7QUFDbEQsa0NBQW9DO0FBQ3BDLDBDQUFvQztBQUNwQywyQkFBOEI7QUFFOUIsZ0RBQStDO0FBRXhDLEtBQUssVUFBVSxTQUFTLENBQzdCLElBQVksRUFDWixRQUE0QixFQUM1QixPQUE0QixFQUM1QixXQUFvQixFQUNwQixZQUFvQjtJQUVwQixNQUFNLElBQUksR0FBRyxJQUFJLGdDQUFjLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDekMsTUFBTSxJQUFJLEdBQUcsaUJBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQTtRQUNyRCxNQUFNLFFBQVEsR0FDWixJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVE7WUFDeEIsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQ3BDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFBO1FBQ25CLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtZQUMxQixNQUFNLElBQUksS0FBSyxDQUNiLHFDQUFxQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQzNELENBQUE7U0FDRjtRQUNELE1BQU0sU0FBUyxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFBO1FBQzNDLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQTtRQUN0RSxNQUFNLE9BQU8sbUNBQ1IsSUFBSSxLQUNQLFFBQVE7WUFDUixrQkFBa0IsR0FDbkIsQ0FBQTtRQUNELE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtR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QU87WUFDVixPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO1FBQ25CLEtBQUssUUFBUTtZQUNYLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUE7UUFDbkIsS0FBSyxTQUFTO1lBQ1osT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNuQjtZQUNFLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksRUFBRSxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFBO0tBQ3pEO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdlYnZpZXdIYW5kbGVyIH0gZnJvbSAnLi93ZWJ2aWV3LWhhbmRsZXInXG5pbXBvcnQgeyBhdG9tQ29uZmlnIH0gZnJvbSAnLi4vdXRpbCdcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJy4uL3JlbmRlcmVyJ1xuaW1wb3J0IHsgd3JpdGVGaWxlIH0gZnJvbSAnZnMnXG5pbXBvcnQgeyBDb25maWdWYWx1ZXMsIEdyYW1tYXIgfSBmcm9tICdhdG9tJ1xuaW1wb3J0IHsgbG9hZFVzZXJNYWNyb3MgfSBmcm9tICcuLi9tYWNyb3MtdXRpbCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVBc1BERihcbiAgdGV4dDogc3RyaW5nLFxuICBmaWxlUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBncmFtbWFyOiBHcmFtbWFyIHwgdW5kZWZpbmVkLFxuICByZW5kZXJMYVRlWDogYm9vbGVhbixcbiAgc2F2ZUZpbGVQYXRoOiBzdHJpbmcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdmlldyA9IG5ldyBXZWJ2aWV3SGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgb3B0cyA9IGF0b21Db25maWcoKS5zYXZlQ29uZmlnLnNhdmVUb1BERk9wdGlvbnNcbiAgICBjb25zdCBwYWdlU2l6ZSA9XG4gICAgICBvcHRzLnBhZ2VTaXplID09PSAnQ3VzdG9tJ1xuICAgICAgICA/IHBhcnNlUGFnZVNpemUob3B0cy5jdXN0b21QYWdlU2l6ZSlcbiAgICAgICAgOiBvcHRzLnBhZ2VTaXplXG4gICAgaWYgKHBhZ2VTaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBwYXJzZSBjdXN0b20gcGFnZSBzaXplOiAke29wdHMuY3VzdG9tUGFnZVNpemV9YCxcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gYXdhaXQgdmlldy5nZXRTZWxlY3Rpb24oKVxuICAgIGNvbnN0IHByaW50U2VsZWN0aW9uT25seSA9IHNlbGVjdGlvbiA/IG9wdHMucHJpbnRTZWxlY3Rpb25Pbmx5IDogZmFsc2VcbiAgICBjb25zdCBuZXdPcHRzID0ge1xuICAgICAgLi4ub3B0cyxcbiAgICAgIHBhZ2VTaXplLFxuICAgICAgcHJpbnRTZWxlY3Rpb25Pbmx5LFxuICAgIH1cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBnZXRQYWdlV2lkdGgobmV3T3B0cy5wYWdlU2l6ZSlcblxuICAgIGNvbnN0IG1hdGhDb25maWcgPSBhdG9tQ29uZmlnKCkubWF0aENvbmZpZ1xuICAgIGNvbnN0IHBkZlJlbmRlcmVyID0gYXRvbUNvbmZpZygpLnNhdmVDb25maWcuc2F2ZVRvUERGT3B0aW9ucy5sYXRleFJlbmRlcmVyXG4gICAgY29uc3QgcmVuZGVyZXIgPVxuICAgICAgcGRmUmVuZGVyZXIgPT09ICdTYW1lIGFzIGxpdmUgcHJldmlldydcbiAgICAgICAgPyBtYXRoQ29uZmlnLmxhdGV4UmVuZGVyZXJcbiAgICAgICAgOiBwZGZSZW5kZXJlclxuXG4gICAgdmlldy5pbml0KHtcbiAgICAgIHVzZXJNYWNyb3M6IGxvYWRVc2VyTWFjcm9zKCksXG4gICAgICBtYXRoSmF4Q29uZmlnOiB7XG4gICAgICAgIC4uLm1hdGhDb25maWcsXG4gICAgICAgIGxhdGV4UmVuZGVyZXI6IHJlbmRlcmVyLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHQ6ICdwZGYtZXhwb3J0JyxcbiAgICAgIHBkZkV4cG9ydE9wdGlvbnM6IHsgd2lkdGg6IG5ld09wdHMubGFuZHNjYXBlID8gaGVpZ2h0IDogd2lkdGggfSxcbiAgICB9KVxuICAgIHZpZXcuc2V0QmFzZVBhdGgoZmlsZVBhdGgpXG5cbiAgICBjb25zdCBkb21Eb2N1bWVudCA9IGF3YWl0IHJlbmRlcih7XG4gICAgICB0ZXh0LFxuICAgICAgZmlsZVBhdGgsXG4gICAgICBncmFtbWFyLFxuICAgICAgcmVuZGVyTGFUZVgsXG4gICAgICBtb2RlOiAnbm9ybWFsJyxcbiAgICB9KVxuICAgIGF3YWl0IHZpZXcudXBkYXRlKGRvbURvY3VtZW50LmRvY3VtZW50RWxlbWVudCEub3V0ZXJIVE1MLCByZW5kZXJMYVRlWClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdmlldy5wcmludFRvUERGKG5ld09wdHMpXG5cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgd3JpdGVGaWxlKHNhdmVGaWxlUGF0aCwgZGF0YSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gZSBhcyBFcnJvclxuICAgICAgYXRvbS5ub3RpZmljYXRpb25zLmFkZEVycm9yKCdGYWlsZWQgc2F2aW5nIHRvIFBERicsIHtcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLnRvU3RyaW5nKCksXG4gICAgICAgIGRpc21pc3NhYmxlOiB0cnVlLFxuICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZpZXcuZGVzdHJveSgpXG4gIH0pXG4gIHZpZXcuZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gIHZpZXcuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgdmlldy5lbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCdcbiAgdmlldy5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHgnXG4gIGNvbnN0IHdzID0gYXRvbS52aWV3cy5nZXRWaWV3KGF0b20ud29ya3NwYWNlKVxuICB3cy5hcHBlbmRDaGlsZCh2aWV3LmVsZW1lbnQpXG59XG5cbnR5cGUgVW5pdCA9ICdtbScgfCAnY20nIHwgJ2luJ1xuXG5mdW5jdGlvbiBwYXJzZVBhZ2VTaXplKHNpemU6IHN0cmluZykge1xuICBpZiAoIXNpemUpIHJldHVybiB1bmRlZmluZWRcbiAgY29uc3QgcnggPSAvXihbXFxkLixdKykoY218bW18aW4pP3goW1xcZC4sXSspKGNtfG1tfGluKT8kL2lcbiAgY29uc3QgcmVzID0gc2l6ZS5yZXBsYWNlKC9cXHMqL2csICcnKS5tYXRjaChyeClcbiAgaWYgKHJlcykge1xuICAgIGNvbnN0IHdpZHRoID0gcGFyc2VGbG9hdChyZXNbMV0pXG4gICAgY29uc3Qgd3VuaXQgPSByZXNbMl0gYXMgVW5pdCB8IHVuZGVmaW5lZFxuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQocmVzWzNdKVxuICAgIGNvbnN0IGh1bml0ID0gcmVzWzRdIGFzIFVuaXQgfCB1bmRlZmluZWRcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGNvbnZlcnQod2lkdGgsIHd1bml0KSxcbiAgICAgIGhlaWdodDogY29udmVydChoZWlnaHQsIGh1bml0KSxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG59XG5cbnR5cGUgUGFnZVNpemUgPVxuICB8IEV4Y2x1ZGU8XG4gICAgICBDb25maWdWYWx1ZXNbJ21hcmtkb3duLXByZXZpZXctcGx1cy5zYXZlQ29uZmlnLnNhdmVUb1BERk9wdGlvbnMucGFnZVNpemUnXSxcbiAgICAgICdDdXN0b20nXG4gICAgPlxuICB8IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfVxuXG5mdW5jdGlvbiBjb252ZXJ0KHZhbDogbnVtYmVyLCB1bml0PzogVW5pdCkge1xuICByZXR1cm4gdmFsICogdW5pdEluTWljcm9ucyh1bml0KVxufVxuXG5mdW5jdGlvbiB1bml0SW5NaWNyb25zKHVuaXQ6IFVuaXQgPSAnbW0nKSB7XG4gIHN3aXRjaCAodW5pdCkge1xuICAgIGNhc2UgJ21tJzpcbiAgICAgIHJldHVybiAxMDAwXG4gICAgY2FzZSAnY20nOlxuICAgICAgcmV0dXJuIDEwMDAwXG4gICAgY2FzZSAnaW4nOlxuICAgICAgcmV0dXJuIDI1NDAwXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGFnZVdpZHRoKHBhZ2VTaXplOiBQYWdlU2l6ZSkge1xuICBzd2l0Y2ggKHBhZ2VTaXplKSB7XG4gICAgY2FzZSAnQTMnOlxuICAgICAgcmV0dXJuIFsyOTcsIDQyMF1cbiAgICBjYXNlICdBNCc6XG4gICAgICByZXR1cm4gWzIxMCwgMjk3XVxuICAgIGNhc2UgJ0E1JzpcbiAgICAgIHJldHVybiBbMTQ4LCAyMTBdXG4gICAgY2FzZSAnTGVnYWwnOlxuICAgICAgcmV0dXJuIFsyMTYsIDM1Nl1cbiAgICBjYXNlICdMZXR0ZXInOlxuICAgICAgcmV0dXJuIFsyMTYsIDI3OV1cbiAgICBjYXNlICdUYWJsb2lkJzpcbiAgICAgIHJldHVybiBbMjc5LCA0MzJdXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbcGFnZVNpemUud2lkdGggLyAxMDAwLCBwYWdlU2l6ZS5oZWlnaHQgLyAxMDAwXVxuICB9XG59XG4iXX0=
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/31/markdown-preview-plus/lib/markdown-preview-view/pdf-export-util/" data-id="ck2kd92kh001ktcumdde58uhz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/10/31/markdown-preview-plus/lib/markdown-preview-view/webview-handler/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          markdown-preview-plus/lib/markdown-preview-view/webview-handler
        
      </div>
    </a>
  
  
    <a href="/2019/10/31/markdown-preview-plus/lib/markdown-preview-view/markdown-preview-view-file/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">markdown-preview-plus/lib/markdown-preview-view/markdown-preview-view-file</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">安装教程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" rel="tag">安装教程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" style="font-size: 10px;">安装教程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/01/HomePage-test/">HomePage_test</a>
          </li>
        
          <li>
            <a href="/2019/10/31/markdown-preview-plus/src/tsconfig/">markdown-preview-plus/src/tsconfig</a>
          </li>
        
          <li>
            <a href="/2019/10/31/markdown-preview-plus/src/tslint/">markdown-preview-plus/src/tslint</a>
          </li>
        
          <li>
            <a href="/2019/10/31/markdown-preview-plus/src-client/template/">markdown-preview-plus/src-client/template</a>
          </li>
        
          <li>
            <a href="/2019/10/31/markdown-preview-plus/src-client/tsconfig/">markdown-preview-plus/src-client/tsconfig</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 ElainaChan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>